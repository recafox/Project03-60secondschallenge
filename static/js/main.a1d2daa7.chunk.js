(this["webpackJsonpproject03-calculationgame"]=this["webpackJsonpproject03-calculationgame"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(8),a=n.n(c),o=n(2),i=n(3),u=n(5),l=n(4),d=(n(13),n(14),n(0)),m=function(e){return Object(d.jsxs)("div",{className:"title-container",children:[Object(d.jsx)("div",{className:"title__left",children:"60"}),Object(d.jsxs)("div",{className:"title__right",children:[Object(d.jsxs)("div",{className:"right__upper",children:[Object(d.jsx)("div",{className:"upper__group",children:"SECONDS"}),Object(d.jsx)("div",{className:"sign-box",children:Object(d.jsx)("div",{children:"+\u2212\xd7\xf7"})})]}),Object(d.jsx)("div",{className:"right__bottom",children:"CHALLENGE"})]})]})},j=(n(16),function(e){return e.subText?Object(d.jsxs)("div",{className:"button-set",children:[Object(d.jsx)("button",{className:"button",onClick:e.onClick,children:e.text}),Object(d.jsx)("p",{children:e.subText})]}):Object(d.jsx)("button",{className:"button",onClick:e.onClick,children:e.text})}),h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onButtonClick=function(){e.props.changeGameStatus("going")},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"page-container page--start",children:[Object(d.jsx)(m,{}),Object(d.jsx)(j,{text:"START!",subText:"try to answer more as you can",onClick:this.onButtonClick})]})}}]),n}(r.a.Component),v=(n(17),function(e){return Object(d.jsxs)("div",{className:"scoreboard",children:[Object(d.jsx)("div",{className:"scoreboard__logo",children:"60 SECONDS CHALLENGE"}),Object(d.jsxs)("div",{className:"scoreboard__score",children:[Object(d.jsx)("div",{className:"score__txt",children:"SCORE"}),Object(d.jsx)("div",{className:"score__num",children:function(e,t){var n=e/Math.pow(10,t-1);return(n=n.toFixed(t-1)+"").replace(".","")}(e.score,3)})]})]})}),b=n(6),p=(n(18),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;Object(o.a)(this,n),(s=t.call(this,e)).ticking=function(){var e=Object(b.a)(s);window.setTimeout((function(){e.state.sound.play()}),100)},s.start=function(){var e=Object(b.a)(s),t=window.setInterval((function(){e.ticking();var n=e.state.remaining-1;e.setState({remaining:n}),e.state.remaining<=0&&(window.clearInterval(t),window.setTimeout((function(){e.props.onCountdownOver()}),1e3))}),1e3)};var r=new Audio;return r.src="/sounds/tick.wav",s.state={remaining:10,timerId:null,sound:r},s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){console.log("unmount")}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"countdown",children:"00:".concat(this.state.remaining<10?"0"+this.state.remaining:this.state.remaining)})}}]),n}(r.a.Component)),O=(n(19),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).submit=function(e){var t=Object(b.a)(s);13===e.charCode&&(s.props.submitAnswer(s.state.value),t.setState({timerID:window.setTimeout((function(){t.clear()}),200)}))},s.clear=function(){s.setState({value:""})},s.state={value:"",isMounted:!1,timerID:0},s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){0!==this.timerID&&(window.clearTimeout(this.state.timerID),this.setState({timerID:0}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"answer-input",children:[Object(d.jsx)("input",{value:this.state.value,className:"input",onInput:function(t){e.setState({value:t.target.value})},onKeyPress:function(t){e.submit(t)}}),Object(d.jsx)("p",{children:"press enter to answer"})]})}}]),n}(s.Component)),f=(n(20),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).startErrorAnime=function(){s.question.current&&s.question.current.classList.add("shaking")},s.stopErrorAnime=function(){s.question.current&&s.question.current.classList.remove("shaking")},s.reset=function(){s.props.score>10&&s.props.levelUp();var e={currentMode:s.selectMode(),firstNum:s.generateNumber(),secondNum:s.generateNumber()};s.setState({currentMode:e.currentMode,firstNum:e.firstNum,secondNum:e.secondNum})},s.checkAnswer=function(e){var t=Object(b.a)(s);t.calculateAnswer()===parseInt(e,10)?t.props.onAnswerCorrect():(t.startErrorAnime(),t.props.onAnswerWrong()),t.setState({timerID:window.setTimeout((function(){t.stopErrorAnime(),t.reset()}),200)})},s.createRandomNumber=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseInt(Math.random()*Math.pow(10,e),10)},s.generateNumber=function(){return s.createRandomNumber(s.props.level)},s.selectMode=function(){var e=parseInt(3*Math.random(),10);return s.state.mode[e]},s.calculateAnswer=function(){var e=s.state,t=e.firstNum,n=e.secondNum,r=e.currentMode;if(r)switch(r){case"+":return t+n;case"-":return t-n;case"\xd7":return t*n}},s.state={mode:["+","-","\xd7"],currentMode:null,firstNum:null,secondNum:null,isMounted:!1},s.question=r.a.createRef(),s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({currentMode:this.selectMode(),firstNum:this.generateNumber(),secondNum:this.generateNumber(),isMounted:!0})}},{key:"componentWillUnmount",value:function(){0!==this.timerID&&(window.clearTimeout(this.state.timerID),this.setState({timerID:0}))}},{key:"render",value:function(){var e=this.state,t=e.firstNum,n=e.secondNum,s=e.currentMode;return"undefined"!==typeof t?Object(d.jsxs)("div",{className:"question-board",children:[Object(d.jsxs)("div",{className:"question",ref:this.question,children:[Object(d.jsx)("div",{className:"question__num",children:t}),Object(d.jsx)("div",{className:"question__sign",children:s}),Object(d.jsx)("div",{className:"question__num",children:n}),Object(d.jsx)("div",{className:"question__sign",children:"="})]}),Object(d.jsx)(O,{submitAnswer:this.checkAnswer})]}):Object(d.jsx)("div",{children:"Loading..."})}}]),n}(r.a.Component)),g=(n(21),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;Object(o.a)(this,n),(s=t.call(this,e)).playCorrectSound=function(){s.state.correctSound.play()},s.playErrorSound=function(){s.state.errorSound.play()},s.onAnswerCorrect=function(){s.playCorrectSound(),s.props.addScore()},s.onAnswerWrong=function(){s.playErrorSound(),s.props.minusScore()},s.onCountdownOver=function(){s.props.changeGameStatus("end")};var r=new Audio;r.src="/sounds/correct.wav";var c=new Audio;return c.src="/sounds/error.wav",s.state={correctSound:r,errorSound:c},s}return Object(i.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"page-container page--game",children:[Object(d.jsxs)("div",{className:"page__upper",children:[Object(d.jsx)(v,{score:this.props.score}),Object(d.jsx)(p,{onCountdownOver:this.onCountdownOver})]}),Object(d.jsx)("div",{className:"page__bottom",children:Object(d.jsx)(f,{levelUp:this.props.levelUp,level:this.props.level,score:this.props.score,onAnswerCorrect:this.onAnswerCorrect,onAnswerWrong:this.onAnswerWrong})})]})}}]),n}(r.a.Component)),N=(n(22),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onButtonClick=function(){e.props.changeGameStatus("start")},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.score,t=new Audio;t.src=e<50?"/sounds/fail.mp3":"/sounds/crowd-cheer.wav",t.play()}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"page-container page--end",children:[Object(d.jsx)("div",{className:"logo",children:"60 SECONDS CHALLENGE"}),Object(d.jsxs)("div",{className:"score-board",children:[Object(d.jsx)("div",{className:"line"}),Object(d.jsx)("p",{children:"YOUR FINAL SCORE"}),Object(d.jsx)("div",{className:"line"})]}),Object(d.jsx)("div",{className:"score",children:this.props.score}),Object(d.jsx)(j,{text:"TRY AGAIN!",onClick:this.onButtonClick})]})}}]),n}(r.a.Component)),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gameStatus:"start",score:0,level:1},e.resetGame=function(){e.setState({score:0,level:1})},e.levelUp=function(){var t=e.state.level+1;e.setState({level:t})},e.addScore=function(){var t=e.state.score;e.setState({score:t+=5})},e.minusScore=function(){var t=e.state.score-3;t<=0?e.setState({score:0}):e.setState({score:t})},e.changeGameStatus=function(t){e.setState({gameStatus:t})},e}return Object(i.a)(n,[{key:"renderPage",value:function(){switch(this.state.gameStatus){case"start":return this.state.score>0&&this.resetGame(),Object(d.jsx)(h,{changeGameStatus:this.changeGameStatus});case"going":return Object(d.jsx)(g,{changeGameStatus:this.changeGameStatus,level:this.state.level,levelUp:this.levelUp,score:this.state.score,addScore:this.addScore,minusScore:this.minusScore});case"end":return Object(d.jsx)(N,{changeGameStatus:this.changeGameStatus,score:this.state.score});default:return}}},{key:"render",value:function(){return Object(d.jsx)("div",{children:this.renderPage()})}}]),n}(r.a.Component);a.a.render(Object(d.jsx)(x,{}),document.querySelector("#root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.a1d2daa7.chunk.js.map